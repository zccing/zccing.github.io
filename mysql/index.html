<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>安装mysql - 星速网</title><meta name=Description content="linux安装最新版的mysql记录，通过存储库、二进制、编译三种方式进行安装mysql"><meta property="og:title" content="安装mysql">
<meta property="og:description" content="linux安装最新版的mysql记录，通过存储库、二进制、编译三种方式进行安装mysql">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.net-cc.com/mysql/"><meta property="og:image" content="https://www.net-cc.com/images/logo.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-08-30T01:37:56+08:00">
<meta property="article:modified_time" content="2021-12-06T15:32:36+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://www.net-cc.com/images/logo.png">
<meta name=twitter:title content="安装mysql">
<meta name=twitter:description content="linux安装最新版的mysql记录，通过存储库、二进制、编译三种方式进行安装mysql">
<meta name=application-name content="星速网">
<meta name=apple-mobile-web-app-title content="星速网"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.net-cc.com/mysql/><link rel=prev href=https://www.net-cc.com/nodejs/><link rel=next href=https://www.net-cc.com/shadowsocks/><link rel=alternate href=/mysql/index.xml type=application/rss+xml title=星速网>
<link rel=feed href=/mysql/index.xml type=application/rss+xml title=星速网><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"安装mysql","inLanguage":"zh-cn","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.net-cc.com\/mysql\/"},"image":["https:\/\/www.net-cc.com\/images"],"genre":"posts","keywords":"linux","wordcount":875,"url":"https:\/\/www.net-cc.com\/mysql\/","datePublished":"2020-08-30T01:37:56+08:00","dateModified":"2021-12-06T15:32:36+00:00","publisher":{"@type":"Organization","name":"cc","logo":"https:\/\/www.net-cc.com"},"author":{"@type":"Person","name":"cc"},"description":"linux安装最新版的mysql记录，通过存储库、二进制、编译三种方式进行安装mysql"}</script></head>
<body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title=星速网><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo.png data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x" data-sizes=auto alt=/images/logo.png title=/images/logo.png>星速网</a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/posts/> 所有文章 </a><a class=menu-item href=/tags/> 标签 </a><a class=menu-item href=/categories/> 分类 </a><a class=menu-item href=/about/ title=关于> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容 id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title=星速网><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo.png data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x" data-sizes=auto alt=/images/logo.png title=/images/logo.png>星速网</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder=搜索文章标题或内容 id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
取消
</a>
</div><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/about/ title=关于>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i>
</a></div>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>目录</h2>
<div class=toc-content id=toc-content-auto></div>
</div><article class="page single"><h1 class="single-title animated flipInX">安装mysql</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=https://www.net-cc.com title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>cc</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/linux/><i class="far fa-folder fa-fw"></i>linux</a></span></div>
<div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-08-30>2020-08-30</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 875 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 5 分钟&nbsp;</div>
</div><div class="details toc" id=toc-static kept>
<div class="details-summary toc-title">
<span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#通过yum软件库安装mysql>通过yum软件库安装Mysql</a>
<ul>
<li><a href=#一安装mysql-rpm>一、安装MySQL RPM</a></li>
<li><a href=#二选择一个mysql安装版本>二、选择一个mysql安装版本</a></li>
<li><a href=#三安装mysql>三、安装mysql</a></li>
<li><a href=#四启动mysql服务器>四、启动MySQL服务器</a></li>
<li><a href=#五开机启动mysql>五、开机启动mysql</a></li>
<li><a href=#六mysql服务器初始化仅适用于mysql-57>六、MySQL服务器初始化（仅适用于MySQL 5.7)</a></li>
</ul>
</li>
<li><a href=#从源代码编译安装>从源代码编译安装</a>
<ul>
<li><a href=#配置编译环境>配置编译环境</a></li>
<li><a href=#编译mysql>编译mysql</a></li>
</ul>
</li>
<li><a href=#二进制安装mysql>二进制安装mysql</a></li>
<li><a href=#修改配置文件>修改配置文件</a></li>
<li><a href=#mysql的命令>mysql的命令</a></li>
</ul>
</nav></div>
</div><div class=content id=content><p>linux安装最新版的mysql记录，通过存储库、二进制、编译三种方式进行安装mysql</p>
<h1 id=安装mysql>安装mysql</h1>
<h2 id=通过yum软件库安装mysql>通过yum软件库安装Mysql</h2>
<blockquote>
<p>以下命令对于启用了dnf的系统，用dnf替换命令中的 yum</p>
<p>发布软件包安装在系统上，yum update 命令（或dnf-enabled系统的dnf升级）进行的任何系统范围的更新都会自动升级系统上的MySQL软件包，并且还会替换任何本地的第三方软件包在MySQL Yum存储库中找到替代者</p>
<p>默认配置文件路径：</br>
配置文件：/etc/my.cnf </br>
日志文件：/var/log# var/log/mysqld.log </br>
服务启动脚本：/usr/lib/systemd/system/mysqld.service </br>
socket文件：/var/run/mysqld/mysqld.pid</br></p>
</blockquote>
<h3 id=一安装mysql-rpm>一、安装MySQL RPM</h3>
<p>Yum存储库添加到系统的存储库列表中</p>
<ul>
<li>
<p>到MySQL存储库下载适用linux版本的发行包，<a href=http://dev.mysql.com/downloads/repo/yum/. target=_blank rel="noopener noreffer">点我下载</a></br></p>
</li>
<li>
<p>使用以下命令安装下载的发行包</br></p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=n>rpm</span><span class=w> </span><span class=o>-</span><span class=n>Uvh</span><span class=w> </span><span class=err>发行包名称</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id=二选择一个mysql安装版本>二、选择一个mysql安装版本</h3>
<blockquote>
<p>当使用MySQL Yum存储库时，默认选择安装MySQL的最新GA版本进行安装。如果这是你想要的，你可以跳到下一步， 用Yum安装MySQL</p>
</blockquote>
<ul>
<li>查看MySQL Yum存储库中的所有子存储库，并查看其中哪些被启用或禁用</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>yum repolist all <span class=p>|</span> grep mysql
<span class=c1># 查看MySQL Yum存储库中的所有子存储库，并查看其中哪些被启用或禁用</span>
sudo yum-config-manager --disable mysql**-community
<span class=c1># 禁用最新的GA系列的子库</span>
sudo yum-config-manager --enable mysql**-community
<span class=c1># 启用特定GA系列的子库</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>如若不支持yum-config-manager命令，可以通过修改etc/yum.repos.d/mysql-community.repo来解决，</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>vim etc/yum.repos.d/mysql-community.repo
<span class=c1># 打开文件,找到要配置的子库的条目，然后编辑该enabled选项,指定 enabled=0禁用子库，或 enabled=1启用子库</span>
yum repolist enabled <span class=p>|</span> grep mysql
<span class=c1># 验证是否已启用和禁用了正确的子库</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>为一个发行版系列启用子库。当启用多个版本系列的子库时，Yum将使用最新的系列</p>
</blockquote>
<h3 id=三安装mysql>三、安装mysql</h3>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>yum install mysql-community-server
<span class=c1># 安装MySQL，装MySQL服务器的软件包以及其他必需的软件包</span>
</code></pre></td></tr></table>
</div>
</div><h3 id=四启动mysql服务器>四、启动MySQL服务器</h3>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>service mysqld start
<span class=c1># 启动MySQL服务</span>
systemctl start mysqld.service
<span class=c1># EL7的启动命令，首选</span>
service mysqld status
<span class=c1># 查看MySQL服务的状态</span>
</code></pre></td></tr></table>
</div>
</div><h3 id=五开机启动mysql>五、开机启动mysql</h3>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>systemctl <span class=nb>enable</span> mysqld
systemctl daemon-reload
</code></pre></td></tr></table>
</div>
</div><h3 id=六mysql服务器初始化仅适用于mysql-57>六、MySQL服务器初始化（仅适用于MySQL 5.7)</h3>
<ul>
<li>
<p>mysql安装完成之后，在/var/log/mysqld.log文件中给root生成了一个默认密码（初始化）。通过下面的方式找到root默认密码，然后登录mysql进行修改</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=n>grep</span><span class=w> </span><span class=s1>&#39;temporary password&#39;</span><span class=w> </span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>log</span><span class=o>/</span><span class=n>mysqld</span><span class=p>.</span><span class=n>log</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>显示初始的超级用户的密码</span><span class=w>
</span><span class=w></span><span class=n>mysql_secure_installation</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>初始</span><span class=n>mysql</span><span class=err>，后边可以不用操作</span><span class=w>
</span><span class=w></span><span class=n>mysql</span><span class=w> </span><span class=o>-</span><span class=n>uroot</span><span class=w> </span><span class=o>-</span><span class=n>p</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>使用初始密码登陆</span><span class=w>
</span><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>ALTER</span><span class=w> </span><span class=k>USER</span><span class=w> </span><span class=s1>&#39;root&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=w> </span><span class=n>IDENTIFIED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=s1>&#39;MyNewPass4!&#39;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>set</span><span class=w> </span><span class=n>password</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=s1>&#39;root&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=o>=</span><span class=n>password</span><span class=p>(</span><span class=s1>&#39;MyNewPass4!&#39;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>更改密码，两条命令选择一条即可</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>mysql5.7默认安装了密码安全检查插件（validate_password），默认密码检查策略要求密码必须包含：大小写字母、数字和特殊符号，并且长度不能少于8位。否则会提示ERROR 1819</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=k>show</span><span class=w> </span><span class=n>variables</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;%password%&#39;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>通过</span><span class=n>msyql环境变量可以查看密码策略的相关信息</span><span class=w>
</span><span class=w></span><span class=o>&gt;</span><span class=w>  </span><span class=n>validate_password_policy</span><span class=p>:</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w>  </span><span class=err>密码策略，默认为</span><span class=n>MEDIUM策略</span><span class=w>
</span><span class=w></span><span class=n>validate_password_dictionary_file</span><span class=err>：</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>密码策略文件，策略为</span><span class=n>STRONG才需要</span><span class=w>
</span><span class=w></span><span class=n>validate_password_length</span><span class=err>：</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>密码最少长度</span><span class=w>
</span><span class=w></span><span class=n>validate_password_mixed_case_count</span><span class=err>：</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>大小写字符长度，至少</span><span class=mi>1</span><span class=err>个</span><span class=w>
</span><span class=w></span><span class=n>validate_password_number_count</span><span class=p>:</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>数字至少</span><span class=mi>1</span><span class=err>个</span><span class=w>
</span><span class=w></span><span class=n>validate_password_special_char_count</span><span class=err>：</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>特殊字符至少</span><span class=mi>1</span><span class=err>个</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>共有以下几种密码策略：</p>
<table>
<thead>
<tr>
<th>策略</th>
<th>检查规则</th>
</tr>
</thead>
<tbody>
<tr>
<td>0 or LOW</td>
<td>Length</td>
</tr>
<tr>
<td>1 or MEDIUM</td>
<td>Length; numeric, lowercase/uppercase, and special characters</td>
</tr>
<tr>
<td>or STRONG</td>
<td>Length; numeric, lowercase/uppercase, and special characters; dictionary file</td>
</tr>
<tr>
<td>MySQL官网密码策略详细说明：<a href=http://dev.mysql.com/doc/refman/5.7/en/validate-password-options-variables.html#sysvar_validate_password_policy target=_blank rel="noopener noreffer">点击查看</a></br></td>
<td></td>
</tr>
<tr>
<td></br></td>
<td></td>
</tr>
<tr>
<td>修改密码策略</td>
<td></td>
</tr>
</tbody>
</table>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=nx>vim</span> <span class=sr>/etc/</span><span class=nx>my</span>.<span class=nx>cnf</span><span class=err>
</span><span class=err></span># <span class=nx>打开mysql的配置文件</span><span class=err>
</span><span class=err></span><span class=nx>validate_password_policy</span><span class=p>=</span><span class=m>0</span><span class=err>
</span><span class=err></span># <span class=nx>添加一种密码策略</span>，<span class=nx>选择0</span>（<span class=nx>LOW</span>），<span class=m>1</span>（<span class=nx>MEDIUM</span>），<span class=m>2</span>（<span class=nx>STRONG</span>）<span class=nx>其中一种</span>，<span class=nx>选择2需要提供密码字典文件</span><span class=err>
</span><span class=err></span><span class=nx>validate_password</span> <span class=p>=</span> <span class=nx>off</span><span class=err>
</span><span class=err></span># <span class=nx>如果不需要密码策略</span>，<span class=nx>添加my</span>.<span class=nx>cnf文件中添加这一行的配置禁用即可</span><span class=err>
</span><span class=err></span><span class=nx>systemctl</span> <span class=nx>restart</span> <span class=nx>mysqld</span><span class=err>
</span><span class=err></span># <span class=nx>重新启动mysql服务使配置生效</span>：<span class=err>
</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id=从源代码编译安装>从源代码编译安装</h2>
<h3 id=配置编译环境>配置编译环境</h3>
<ul>
<li>
<p>yum安装需要的库文件</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>yum install wget gcc gcc-c++ make perl ncurses ncurses-devel openssl openssl-devel libaio libaio-devel bison-devel bison
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>安装cmake</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>yum install gcc-c++  <span class=c1># 安装c++支持</span>
wget https:# cmake.org/files/v3.11/cmake-3.11.4-Linux-x86_64.tar.gz  <span class=c1># 官网下载最新的cmake源文件压缩包</span>
tar -zxf cmake-3.11.4-Linux-x86_64.tar.gz   <span class=c1># 解压源文件到当前目录</span>
<span class=nb>cd</span> cmake-3.11.4-Linux-x86_64  <span class=c1># 进入cmake源文件目录</span>
./bootstrap --prefix<span class=o>=</span>/opt/cmake/  <span class=c1># 编译安装到/opt/cmake目录下</span>
make -j <span class=m>16</span>  <span class=c1># 16线程编译，可以加快速度</span>
make install
ln -s /opt/cmake/bin/* /usr/local/bin/  <span class=c1># 软连接到系统环境变量目录</span>
cmake --version  <span class=c1># 查看当前cmake版本</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>安装boost(可选，因为我安装的源代码是包含boost头的，建议不安装和编译，节省时间)</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=nb>cd</span> ~/src
wget https:# dl.bintray.com/boostorg/release/1.68.0/source/boost_1_68_0.tar.gz   <span class=c1># 下载</span>
tar -zxf boost_1_68_0.tar.gz  <span class=c1># 解压缩</span>
<span class=nb>cd</span> boost_1_68_0

<span class=c1># 配置编译选项</span>
./bootstrap.sh <span class=se>\
</span><span class=se></span>--exec-prefix<span class=o>=</span>/opt/boost/ <span class=se>\ </span>  <span class=c1># 安装目录</span>
--with-libraries<span class=o>=</span>all <span class=se>\ </span>       <span class=c1># 需要编译的boost库，all表示所有</span>
--with-toolset<span class=o>=</span>gcc <span class=se>\ </span>         <span class=c1># 指定编译时使用哪种编译器</span>
--with-icu <span class=se>\ </span>                 <span class=c1># 开启正则表达式支持icu</span>
--with-python<span class=o>=</span>python          <span class=c1># 指定Python可执行文件</span>

<span class=c1># 编译安装</span>
./b2 install <span class=nv>toolset</span><span class=o>=</span>gcc <span class=nv>variant</span><span class=o>=</span>release <span class=nv>threading</span><span class=o>=</span>multi <span class=nv>toolset</span><span class=o>=</span>gcc --prefix<span class=o>=</span>/opt/boost

<span class=c1># 添加环境变量</span>
mkdir /opt/lib
<span class=nb>echo</span> <span class=s2>&#34;export C_INCLUDE_PATH=/opt/lib:</span><span class=nv>$C_INCLUDE_PATH</span><span class=s2>&#34;</span> &gt; /etc/profile
<span class=nb>echo</span> <span class=s2>&#34;export CPLUS_INCLUDE_PATH=/opt/lib:</span><span class=nv>$CPLUS_INCLUDE_PATH</span><span class=s2>&#34;</span> &gt; /etc/profile
<span class=nb>echo</span> <span class=s2>&#34;export LD_LIBRARY_PATH=/opt/lib:</span><span class=nv>$LD_LIBRARY_PATH</span><span class=s2>&#34;</span> &gt; /etc/profile
<span class=nb>echo</span> <span class=s2>&#34;export LIBRARY_PATH=/opt/lib:</span><span class=nv>$LIBRARY_PATH</span><span class=s2>&#34;</span> &gt; /etc/profile
<span class=nb>source</span> /etc/profile
ln -s /opt/boost/lib/* /opt/lib/
ldconfig -v
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>添加用户和创建安装、数据库文件目录</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>groupadd dba
useradd -r -g dba -s /bin/false dba
mkdir /opt/mysql
mkdir -p /data/mysql
chown -R dba:dba /data/mysql
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id=编译mysql>编译mysql</h3>
<ul>
<li>
<p>下载mysql源包</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh>wget http://mirrors.163.com/mysql/Downloads/MySQL-8.0/mysql-boost-8.0.12.tar.gz   <span class=c1># 从网易镜像站下载源文件</span>
wget http://mirrors.163.com/mysql/Downloads/MySQL-8.0/mysql-boost-8.0.12.tar.gz.md5   <span class=c1># 下载校验md5</span>
md5sum -c mysql-boost-8.0.12.tar.gz.md5   <span class=c1># 校验源文件</span>
rm -f mysql-boost-8.0.12.tar.gz.md5
tar -zxf mysql-boost-8.0.12.tar.gz  <span class=c1># 解压</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>编译安装和初始化mysql</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=c1># 编译</span>
mkdir bld
<span class=nb>cd</span> bld
cmake .. <span class=se>\
</span><span class=se></span>-DCMAKE_INSTALL_PREFIX<span class=o>=</span>/opt/mysql <span class=se>\
</span><span class=se></span>-DENABLE_DOWNLOADS<span class=o>=</span><span class=m>1</span> <span class=se>\
</span><span class=se></span>-DMYSQL_DATADIR<span class=o>=</span>/data/mysql <span class=se>\
</span><span class=se></span>-DSYSCONFDIR<span class=o>=</span>/etc <span class=se>\
</span><span class=se></span>-DMYSQL_TCP_PORT<span class=o>=</span><span class=m>3306</span> <span class=se>\
</span><span class=se></span>-DWITH_INNOBASE_STORAGE_ENGINE<span class=o>=</span><span class=m>1</span> <span class=se>\
</span><span class=se></span>-DWITH_PARTITION_STORAGE_ENGINE<span class=o>=</span><span class=m>1</span> <span class=se>\
</span><span class=se></span>-DWITH_ARCHIVE_STORAGE_ENGINE<span class=o>=</span><span class=m>1</span> <span class=se>\
</span><span class=se></span>-DWITH_BLACKHOLE_STORAGE_ENGINE<span class=o>=</span><span class=m>1</span> <span class=se>\
</span><span class=se></span>-DSYSTEMD_PID_DIR<span class=o>=</span>/run <span class=se>\
</span><span class=se></span>-DWITH_SYSTEMD<span class=o>=</span>ON <span class=se>\
</span><span class=se></span>-DWITH_BOOST<span class=o>=</span>/root/src/mysql-8.0.12/boost <span class=se>\
</span><span class=se></span>-DWITH_INNODB_MEMCACHED<span class=o>=</span>ON <span class=se>\
</span><span class=se></span>-DWITH_GMOCK<span class=o>=</span>/root/src/mysql-8.0.12/GoogleTest
make -j <span class=m>4</span>
make install

<span class=c1># 初始化</span>
<span class=nb>cd</span> /opt/mysql
mkdir mysql-files
chown dba:dba mysql-files
chmod <span class=m>750</span> mysql-files
bin/mysqld --initialize --user<span class=o>=</span>dba --datadir<span class=o>=</span>/data/mysql/ <span class=c1># 记录随机的密码</span>
bin/mysql_ssl_rsa_setup  <span class=c1># 开启openssl，并生成key</span>
cp usr/lib/systemd/system/mysqld.service /usr/lib/systemd/system/ <span class=c1># 添加到系统服务</span>
vim /usr/lib/systemd/system/  <span class=c1># 把这两个更改下，User=dba Group=dba</span>
systemctl daemon-reload
systemctl start mysql
mysql -uroot -p <span class=c1># 输入之前获得的随机码</span>
ALTER USER <span class=s1>&#39;root&#39;</span>@<span class=s1>&#39;localhost&#39;</span> IDENTIFIED WITH sha256_password BY <span class=s1>&#39;MyNewPass4!&#39;</span><span class=p>;</span> <span class=c1># 修改root密码，并更改加密方式</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id=二进制安装mysql>二进制安装mysql</h2>
<p>和源码安装一样只是省去了编译的过程</p>
<h2 id=修改配置文件>修改配置文件</h2>
<ul>
<li>修改/etc/my.cnf配置文件，如下所示：
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=k>[mysqld]</span>
 <span class=c1># 开启慢查询日志</span>
<span class=na>slow_query_log</span> <span class=o>=</span> <span class=s>ON</span>
<span class=na>slow_query_log_file</span> <span class=o>=</span> <span class=s>/var/log/mysql/slow.log</span>
<span class=na>long_query_time</span> <span class=o>=</span> <span class=s>10</span>
<span class=na>log_queries_not_using_indexes</span> <span class=o>=</span> <span class=s>1</span>

<span class=c1># 开启操作日志</span>
<span class=na>general_log</span><span class=o>=</span><span class=s>ON</span>
<span class=na>general_log_file</span><span class=o>=</span><span class=s>/var/log/mysql/operation.log</span>

<span class=c1># 错误日志</span>
<span class=na>log_error</span><span class=o>=</span><span class=s>/var/log/mysql/error.log</span>

<span class=c1># 更改默认编码</span>
<span class=na>character_set_server</span><span class=o>=</span><span class=s>utf8mb4</span>
<span class=na>init_connect</span><span class=o>=</span><span class=s>&#39;SET NAMES utf8mb4&#39;</span>

<span class=c1># 开启openssl，在初始化的时候执行bin/mysql_ssl_rsa_setup 命令，可以在数据目录里生成key</span>
<span class=na>ssl_ca</span><span class=o>=</span><span class=s>/data/mysql/ca.pem               # ca</span>
<span class=na>ssl_capath</span><span class=o>=</span><span class=s>/data/mysql                  # ca证书路径</span>
<span class=na>ssl_cert</span><span class=o>=</span><span class=s>/data/mysql/server-cert.pem    # 服务器公钥</span>
<span class=na>ssl-key</span><span class=o>=</span><span class=s>/data/mysql/server-key.pem      # 服务器私钥</span>
<span class=c1># ssl_cipher=                           # 加密方法</span>
<span class=c1># ssl_crl=</span>
<span class=c1># ssl_crlpath=</span>
<span class=c1># ssl_fips_mode=OFF</span>
<span class=c1># ssl_key=server-key.pem</span>

<span class=k>[client]</span>
<span class=c1># 本地启用ssl登录</span>
<span class=na>ssl-ca</span><span class=o>=</span><span class=s>ca.pem</span>
<span class=na>ssl_capath</span><span class=o>=</span><span class=s>/data/mysql</span>
<span class=na>ssl-cert</span><span class=o>=</span><span class=s>client-cert.pem</span>
<span class=na>ssl-key</span><span class=o>=</span><span class=s>client-key.pem</span>

<span class=c1># socket连接文件的位置</span>
<span class=na>socket</span><span class=o>=</span><span class=s>/tmp/mysql.sock</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>openssl创建证书
如果你不准备用mysql自动生成的证书，可以手动重新生成你需要的
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=c1>##########################</span>
<span class=c1>#                        ＃</span>
<span class=c1>#      生成ＣＡ   　　　　　＃</span>
<span class=c1>#                        ＃</span>
<span class=c1>##########################</span>
<span class=c1># 生成一个ca私钥</span>
openssl genrsa <span class=m>2048</span> &gt; ca-key.pem
<span class=c1># 根据 CA 私钥生成一个新的数字证书，根据提示回答相应问题，“..”表示留空，openssl req --help 查看各变量的意思</span>
openssl req -sha1 -new -x509 -nodes -days <span class=m>3650</span> -key ca-key.pem &gt; ca-cert.pem

<span class=c1>##########################</span>
<span class=c1>#                     　 ＃</span>
<span class=c1># 服务端的RSA私钥和数字证书 ＃</span>
<span class=c1>#                     　 ＃</span>
<span class=c1>##########################</span>
<span class=c1># 创建服务器端的私钥和一个证书请求文件，记住最后输入的密码</span>
openssl req -sha1 -newkey rsa:2048 -days <span class=m>3650</span> -nodes -keyout server-key.pem &gt; server-req.pem
<span class=c1># 将生成的私钥转换为 RSA 私钥文件格式</span>
openssl rsa -in server-key.pem -out server-key.pem
<span class=c1># 使用原先生成的 CA 证书来生成一个服务器端的数字证书</span>
openssl x509 -sha1 -req -in server-req.pem -days <span class=m>3650</span> -CA ca-cert.pem -CAkey ca-key.pem -set_serial <span class=m>01</span> &gt; server-cert.pem

<span class=c1>##########################</span>
<span class=c1>#                     　 ＃</span>
<span class=c1># 客户端的RSA私钥和数字证书 ＃</span>
<span class=c1>#                     　 ＃</span>
<span class=c1>##########################</span>
<span class=c1># 生成一个私钥和证书</span>
openssl req -sha1 -newkey rsa:2048 -days <span class=m>3650</span> -nodes -keyout client-key.pem &gt; client-req.pem
<span class=c1># 私钥转换为 RSA 私钥文件格式</span>
openssl rsa -in client-key.pem -out client-key.pem
<span class=c1># 使用原先生成的 CA 证书来生成一个客户端的数字证书</span>
openssl x509 -sha1 -req -in client-req.pem -days <span class=m>3650</span> -CA ca-cert.pem -CAkey ca-key.pem -set_serial <span class=m>01</span> &gt; client-cert.pem
</code></pre></td></tr></table>
</div>
</div></li>
<li>openssl创建的文件
<table>
<thead>
<tr>
<th>文件</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>ca-cert.pem</td>
<td>CA 证书, 用于生成服务器端/客户端的数字证书.</td>
</tr>
<tr>
<td>ca-key.pem</td>
<td>CA 私钥, 用于生成服务器端/客户端的数字证书.</td>
</tr>
<tr>
<td>server-key.pem</td>
<td>服务器端的 RSA 私钥</td>
</tr>
<tr>
<td>server-req.pem</td>
<td>服务器端的证书请求文件, 用于生成服务器端的数字证书.</td>
</tr>
<tr>
<td>server-cert.pem</td>
<td>服务器端的数字证书.</td>
</tr>
<tr>
<td>client-key.pem</td>
<td>客户端的 RSA 私钥</td>
</tr>
<tr>
<td>client-req.pem</td>
<td>客户端的证书请求文件, 用于生成客户端的数字证书.</td>
</tr>
<tr>
<td>client-cert.pem</td>
<td>客户端的数字证书.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id=mysql的命令>mysql的命令</h2>
<ul>
<li>
<p>重新启动mysql服务，查看数据库默认</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=n>systemctl</span><span class=w> </span><span class=k>restart</span><span class=w> </span><span class=n>mysqld</span><span class=w>
</span><span class=w></span><span class=n>mysql</span><span class=w> </span><span class=o>-</span><span class=n>uroot</span><span class=w> </span><span class=o>-</span><span class=n>p</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>登陆</span><span class=k>sql</span><span class=w>
</span><span class=w></span><span class=k>show</span><span class=w> </span><span class=n>variables</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;char%&#39;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>查看默认数据库编码</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>更改之前创建的数据库的编码</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=o>#</span><span class=w> </span><span class=n>db_name改成数据库名称</span><span class=w>
</span><span class=w></span><span class=k>show</span><span class=w> </span><span class=n>databases</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=err>查看数据库表名称</span><span class=w>
</span><span class=w></span><span class=k>alter</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=n>db_name</span><span class=w> </span><span class=nb>CHARACTER</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>utf8</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=o>#</span><span class=w> </span><span class=n>db_name改成数据库名称</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>把在所有数据库的所有表的所有权限赋值给位于所有IP地址的root用户。</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>grant</span><span class=w> </span><span class=k>all</span><span class=w> </span><span class=k>privileges</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=o>*</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=n>root</span><span class=o>@</span><span class=s1>&#39;%&#39;</span><span class=n>identified</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>sha256_password</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=s1>&#39;password&#39;</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>如果是新用户而不是root，则要先新建用户</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=n>mysql</span><span class=o>&gt;</span><span class=k>create</span><span class=w> </span><span class=k>user</span><span class=w> </span><span class=s1>&#39;username&#39;</span><span class=o>@</span><span class=s1>&#39;%&#39;</span><span class=w> </span><span class=n>identified</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>sha256_password</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=s1>&#39;password&#39;</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div></li>
</ul></div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span>更新于 2021-12-06&nbsp;<a class=git-hash href=https://github.com/zccing/zccing.github.io/commit/f7e90a527baa175295a870d6f1a4035200a3dc6c target=_blank title="commit by Cc(alex_zjf@163.com) f7e90a527baa175295a870d6f1a4035200a3dc6c: 更换成LoveIt模板">
<i class="fas fa-hashtag fa-fw"></i>f7e90a5</a></span>
</div>
<div class=post-info-license></div>
</div>
<div class=post-info-line>
<div class=post-info-md></div>
<div class=post-info-share>
<span><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://www.net-cc.com/mysql/ data-title=安装mysql><i class="fab fa-weibo fa-fw"></i></a><a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://www.net-cc.com/mysql/ data-title=安装mysql><i class="fab fa-evernote fa-fw"></i></a></span>
</div>
</div>
</div>
<div class=post-info-more>
<section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/linux/>linux</a></section>
<section>
<span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span>
</section>
</div>
<div class=post-nav><a href=/nodejs/ class=prev rel=prev title=安装最新版的nodejs><i class="fas fa-angle-left fa-fw"></i>安装最新版的nodejs</a>
<a href=/shadowsocks/ class=next rel=next title=shadowsocks笔记>shadowsocks笔记<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.91.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
</div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.net-cc.com target=_blank>cc</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br>
<span class=icp><a rel=备案查询 href=https://beian.miit.gov.cn/ target=_blank>豫ICP备2021035180号</a></span></div>
</div>
</footer></div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部>
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论>
<i class="fas fa-comment fa-fw"></i>
</a>
</div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:5},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body>
</html>